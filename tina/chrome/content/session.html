<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xml:lang="en-GB" xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Session</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="index, follow">

<link type="text/css" rel="stylesheet" href="lib/js/jquery/css/jquery-ui-1.7.2.custom.css" />
<link type="text/css" rel="stylesheet" href="lib/js/jquery/css/ui.selectmenu.css" />
<link type="text/css" rel="stylesheet" href="lib/js/jquery/css/ui.button.css" />
<link type="text/css" rel="stylesheet" href="lib/js/jquery/css/ui.autocomplete.css" />
<link type="text/css" rel="stylesheet" href="lib/js/jquery/css/customInput.jquery.js" />

<script src="lib/js/jquery/jquery-1.3.2.min.js"           type="text/javascript" language="javascript"></script>
<script src="lib/js/jquery/jquery-ui-1.7.2.custom.min.js" type="text/javascript" language="javascript"></script>
<script src="lib/js/jquery/ui.selectmenu.js"              type="text/javascript" language="javascript"></script>
<script src="lib/js/jquery/ui.button.js"                  type="text/javascript" language="javascript"></script>
<script src="lib/js/jquery/ui.autocomplete.js"            type="text/javascript" language="javascript"></script>
<script src="lib/js/jquery/customInput.jquery.js"         type="text/javascript" language="javascript"></script>
<script src="console.js"                                  type="text/javascript" language="javascript"></script>

	<style type="text/css"> 
		/*demo styles*/
		body {font-size: 100%; font-family:"Verdana",sans-serif; margin: 0px; background-color: #fff; }
		fieldset { border:0;  margin-bottom: 0px;}	
		/*
		label,select,.ui-select-menu { float: left; margin-right: 10px; }
		*/
		select { width: 200px; }
		
		/*select with custom icons*/
		body a.customicons { height: 2.8em;}
		body .customicons li a, body a.customicons span.ui-selectmenu-status { line-height: 2em; padding-left: 30px !important; }
		body .video .ui-selectmenu-item-icon, body .podcast .ui-selectmenu-item-icon, body .rss .ui-selectmenu-item-icon { height: 24px; width: 24px; }
		body .video .ui-selectmenu-item-icon { background: url(sample_icons/24-video-square.png) 0 0 no-repeat; }
		body .podcast .ui-selectmenu-item-icon { background: url(sample_icons/24-podcast-square.png) 0 0 no-repeat; }
		body .rss .ui-selectmenu-item-icon { background: url(sample_icons/24-rss-square.png) 0 0 no-repeat; }
		
			.fg-button { outline: 0; margin:0 4px 0 0; padding: .4em 1em; text-decoration:none !important; cursor:pointer; position: relative; text-align: center; zoom: 1; }
	.fg-button .ui-icon { position: absolute; top: 50%; margin-top: -8px; left: 50%; margin-left: -8px; }
	
	a.fg-button { float:left; }
	
	/* remove extra button width in IE */
	button.fg-button { width:auto; overflow:visible; }
	
	.fg-button-icon-left { padding-left: 2.1em; }
	.fg-button-icon-right { padding-right: 2.1em; }
	.fg-button-icon-left .ui-icon { right: auto; left: .2em; margin-left: 0; }
	.fg-button-icon-right .ui-icon { left: auto; right: .2em; margin-left: 0; }
	
	.fg-button-icon-solo { display:block; width:8px; text-indent: -9999px; }	 /* solo icon buttons must have block properties for the text-indent to work */	
	
	.fg-buttonset { float:left; }
	.fg-buttonset .fg-button { float: left; }
	.fg-buttonset-single .fg-button, 
	.fg-buttonset-multi .fg-button { margin-right: -1px;}
	
	.fg-toolbar { padding: .5em; margin: 0;  }
	.fg-toolbar .fg-buttonset { margin-right:1.5em; padding-left: 1px; }
	.fg-toolbar .fg-button { font-size: 1em;  }

	/*demo page css*/
	h2 { clear: both; padding-top:1.5em; margin-top:0; } 
	.strike { text-decoration: line-through; }
</style>	

<script type="text/javascript">
	$(function(){
		//all hover and click logic for buttons
		$(".fg-button:not(.ui-state-disabled)")
		.hover(
			function(){ 
				$(this).addClass("ui-state-hover"); 
			},
			function(){ 
				$(this).removeClass("ui-state-hover"); 
			}
		)
		.mousedown(function(){
				$(this).parents('.fg-buttonset-single:first').find(".fg-button.ui-state-active").removeClass("ui-state-active");
				if( $(this).is('.ui-state-active.fg-button-toggleable, .fg-buttonset-multi .ui-state-active') ){ $(this).removeClass("ui-state-active"); }
				else { $(this).addClass("ui-state-active"); }	
		})
		.mouseup(function(){
			if(! $(this).is('.fg-button-toggleable, .fg-buttonset-single .fg-button,  .fg-buttonset-multi .fg-button') ){
				$(this).removeClass("ui-state-active");
			}
		});
		
		$('#defaultStateToggler').click(function(){
			$(this).prev('.ui-button').button('option','overrideDefaultState',$(this).button('option','active')?'':false);
		});
		


		$('input').customInput();

		//$('#vizframe').contents().find('#tinaviz').setLiterratureLevel(4);
		
		
	// float setZoomValue(float value);
    // void setGSValue(float value);
    // boolean showLabelsSwitch(boolean value);
    // int setLiterratureLevel(int value);
    // boolean loadView(String uri);
    
	});

</script>


</head>
<body>


    <script type="text/javascript">$(function(){    $("#tabs").tabs();   }); </script>
	 <div id="tabs">
            <ul>
                <li><a href="#tabs-1">Corpus</a></li>
                <li><a href="#tabs-2">Visualization</a></li>
            </ul>
            <div id="tabs-1">
                <p>Edit or export your data sets</p>
           </div>
            <div id="tabs-2">
                <div id="container" style="width: 100%; height: 550px;">
	                <script type="text/javascript">
	                $(function(){  
	                    var DIR_SERVICE = new Components.Constructor("@mozilla.org/file/directory_service;1", "nsIProperties");
                        var path = (new DIR_SERVICE()).get("AChrom", Components.interfaces.nsIFile).path;
                        var appletPath;
                        if (path.search(/\\/) != -1) { appletPath = path + "\\content\\vizframe.html" }
                        else { appletPath = path + "/content/vizframe.html" }
                        var appletFile = Components.classes["@mozilla.org/file/local;1"].createInstance(Components.interfaces.nsILocalFile);
                        appletFile.initWithPath(appletPath);
                        var appletURL = Components.classes["@mozilla.org/network/protocol;1?name=file"].createInstance(Components.interfaces.nsIFileProtocolHandler).getURLSpecFromFile(appletFile);
                        $('#container').append('<iframe id="vizframe" src="'+appletURL+'" style="border: 0px; width: 100%; height: 100%;"></iframe>'); 
                        // $('#vizframe').attr('src', 'http:LINK');

                    });
	                </script>
                </div>
                <script type="text/javascript">
                	$(function() {
		                var projects = ['Project', 'Cool Project', 'Another project', 'Green Project', 'Awesome Project', 'Projectable Project', 'Tina', 'elishowk', 'jbilcke', 'Research Project' ];
		                $("#project").autocomplete({
			                data: projects
		                });
	                });
	            </script>
	            <div class="search"> 
                    <label for="project">Search project:</label> 
                    <input id="project" name="project" /> 
                </div>
                
                <script type="text/javascript">
                
                var frame = $('#vizframe');
                $(document).ready(function() {  
                    //applet = $('#vizframe').contents().find('#tinaviz');
                    frame = $('#vizframe');
                } );
                
                function toggleLabels() {
                    frame.contents().find('#tinaviz')[0].toggleLabels();
                }


	            function toggleNodes() {
                    frame.contents().find('#tinaviz')[0].toggleNodes();
                }

	            function toggleLinks() {
                    frame.contents().find('#tinaviz')[0].toggleLinks();
                }
                
	            function center() {
                    frame.contents().find('#tinaviz')[0].center();
                }

	            function updateView() {
	            
	                    var filename = "test3.gexf";
	            	    var DIR_SERVICE = new Components.Constructor("@mozilla.org/file/directory_service;1", "nsIProperties");
                        var path = (new DIR_SERVICE()).get("AChrom", Components.interfaces.nsIFile).path;
                        var gexfPath;
                        if (path.search(/\\/) != -1) { gexfPath = path + "\\content\\data\\"+filename }
                        else { appletPath = path + "/content/data/"+filename  }
                        var gexfFile = Components.classes["@mozilla.org/file/local;1"].createInstance(Components.interfaces.nsILocalFile);
                        gexfFile.initWithPath(appletPath);
                        var gexfURL = Components.classes["@mozilla.org/network/protocol;1?name=file"].createInstance(Components.interfaces.nsIFileProtocolHandler).getURLSpecFromFile(gexfFile);
                        
                        $('#debugdiv').append('<p>applet.updateView("'+gexfURL+'");'); 
                        var result;
                        try {
                            result = frame.contents().find('#tinaviz')[0].updateView(gexfURL);
                        } catch (e) {
                            //alert("Oops! Something bad just happened. Calling 911...");
                            $('#debugdiv').append('<br/><b>== exception '+e+'</b>'); 
                            console.log(e);
                            
                        }
                        $('#debugdiv').append('<br/>== returned '+result+'</p>'); 
                }
                </script>
                <div>
                <form>	
	                <fieldset> 
		                <legend>Show</legend> 
		                <input type="checkbox" name="genre" id="check-1" value="action" /> 
		                <label for="check-1">Labels</label> 
		
		                <input type="checkbox" name="genre" id="check-2" value="comedy" /> 
		                <label for="check-2">Nodes</label> 
		
		                <input type="checkbox" name="genre" id="check-3" value="epic" /> 
		                <label for="check-3">Linksl</label> 

	                </fieldset> 
		
	                <fieldset> 
		                <legend>Keywords</legend> 
		                <input type="radio" name="opinions" id="radio-1" value="1" /> 
		                <label for="radio-1">Current project</label> 
		
		                <input type="radio" name="opinions" id="radio-2" value="1" /> 
		                <label for="radio-2">Current batch</label> 
		
		                <input type="radio" name="opinions" id="radio-3" value="1" /> 
		                <label for="radio-3">Worldwide</label> 
	                </fieldset> 
                </form> 
                </div>
       <input id="syncButton" type="button" class="ui-widget ui-state-default" onclick="updateView()" value="sync" />
       <input id="saveButton" type="button" class="ui-widget ui-state-default" onclick="save()" value="save" />
       <input id="snapshotButton" type="button" class="ui-widget ui-state-default" onclick="snapshot()" value="take snapshot" />
       <input id="centerButton" type="button" class="ui-widget ui-state-default" onclick="center()" value="recenter" />
          
       <label>Show:</label>
       <input id="showLabelsButton" type="button" class="ui-widget ui-state-default" onclick="toggleLabels()" value="show labels" />
       <input id="showNodesButton" type="button" class="ui-widget ui-state-default" onclick="toggleNodes()" value="show nodes" />
       <input id="showLinksButton" type="button" class="ui-widget ui-state-default" onclick="toggleLinks()" value="show links" />
                
            <div id="debugdiv"></div> 
            </div> 
        </div>
    </body>
</html>












